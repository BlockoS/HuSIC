■履歴( History )

ver 0.01 2004/02/29-
　とりあえず突貫工事の末に基本部分を作る。
　HuCは漢字コメントが使えないらしいという所で、
　しばらく時間が掛かった。

ver 0.02 2004/03/10
 コンパイラをHuC 3.20に変更。
　音程が間違っていたのを修正ｗ
　データの読み込み方法を変更。
　ボリュームコマンドを有効に。

ver 0.03 2004/03/11
 6ch化。
 ソフトウェアボリュームエンベロープコマンドを追加。
　下記の拡張コマンドを追加。
　$F2コマンド（ノイズ設定コマンド）　4,5chにて有効。
 $F1コマンド（波形変更コマンド）  全チャンネルで有効。

ver 0.04 2004/03/13
 音程が半音上がっていたのを修正。
　波形初期化ルーチンの修正。

ver 0.05 2004/03/14
 ピッチエンベロープコマンド、
　ディチューンコマンドの追加。

ver 0.06 2004/03/15
　ボリュームコントロールの方法を変更。
　拡張パンコマンド($F0)を追加。

ver 0.07 2004/03/23
 リピートコマンドを追加。($A0,$A1)

ver 0.08 2004/04/06
　ボリューム最大値を15から31に変更。
　pcewave.hを削除。pce_data_tableへ名前を変更。

ver 0.08a 2004/04/09
　MPコマンドを暫定的に追加。

ver 0.08b 2004/04/10
 ノイズコマンドオフ時に波形モードに戻すようにした。

ver 0.09  2004/04/13
　ノイズ周波数のレンジを広げた（00h-1Fhまで）
　ノイズをピッチエンベロープに対応させた。
　XPCM(タイマー駆動によるDirectD/Aを使用したPCM機能)を搭載
 (第6ch使用。$ef=1でオン)
　ドライバの処理をVSYNC割り込みで行うようにした。

ver 0.10  2004/04/17
　$EEコマンド（バンク切り替え）を追加。
　書式は$EE,バンク,次のシーケンスデータ
　上記の改造に伴い、曲データポインタにもバンク番号を求めるようにした。
　HES作成時におけるDATA構造体サイズ計算方法の改善

ver 0.10(without XPCM) 2004/05/05
 処理速度が一定に満たない（or PCMに対応していない)システム用のテスト。

ver 0.11  2004/05/27
　LFO機能を追加。
　周波数テーブルを16個に削減。

ver 0.12  2004/05/28
　周波数テーブルを１オクターブ下げた。

ver 0.12a 2004/10/19
　バンク切り替え時に音色を含めたデータ領域への
アクセスが出来なくなる不具合を修正。

ver 0.13  2004/10/23
　0.12aの修正を別の部分にも適用。

ver 0.14  2005/01/19
 LFOトリガーが動作しないという部分を修正しました。

ver 0.14a 2005/07/14
　各バッチでppmckc.exeを利用するようにした。
 make.batを作成し、特定のファイル名に依存しないコンパイルが可能になった。
 PCE_INCLUDEをバッチ内部で定義することにした。
 clean.bat、make_hes_nc.batを作成した。

ver 0.20  2005/09/08
　PCMタイマーの設定や、ジャンプテーブル使用などによる各種高速化を行った。

ver 0.21 2006/03/05
　ドキュメントを更新。お約束の項を廃止、使用規約の項を新設。
　hus_hes.s（プログラム本体）の更新
　ノートエンベロープ機能を追加

ver 0.22 2006/03/11
　ノートエンベロープの修正

ver 0.23 2006/03/16
 ノートエンベロープのマイナス値に対する挙動を修正

 ver 0.24 2007/04/11
 ファイルの整理、ソフトウェアLFOを再度有効化

 ver 0.25 2007/04/16
 曲ファイルの挿入をhmckc -iによるファイル名指定にした。
 XPCMが正しく再生できないバグを修正。

 ver 0.26 2007/04/21
 XPCMのキーオフに関するバグを修正。
 リピートコマンド($a0)をppmckc仕様に変更。（異なるバンクでのリピートが可能）

 ver 0.30alpha 2011/12/11
 UTF8で日本語のコメントを記述するようにした。
 HuSICのソースコードを調整。
 XPCMを2ch同時に再生できるようにした。(トラックEFが利用可能)
 各スクリプトを調整した。
 フォルダ構成を変更し、パッケージをひとまとめにした。

 ver 0.30alpha2 2011/12/16
 XPCMをアセンブラで実装した。
 Makefile、ソースコードを調整。
 スクリプトの修正。

 ver 0.30alpha3 2011/12/17
 CD関連のバッチ、スクリプト関連の変更によりcueファイルを出力するようにした。
 トラックがLコマンドのみの場合フリーズしてしまう問題を対策をした。
 デバッグ用のウェイトを除去した。

 ver 0.30 2012/08/13
 XPCMのCh.Eが正しく再生出来なかった問題を修正
 wav2pd4が一部WAVファイルを読めなかった問題を修正
 auto-bankswitchが正しく機能しなかった問題を修正

 ver 0.31 2015/05/22
 HuCを64bit環境でコンパイルが通るように修正
 HuCでコメント部分が正しく処理されない問題を修正
 @@コマンドを有効にした
 HuSIC本体をわずかに最適化

 ver 0.32 2015/09/09
 バンク切替時の問題を修正

 ver 0.33 2015/09/12
 スラーを追加した

 ver 0.34 2015/09/14
 ポルタメントを追加した

 ver 0.35 2015/09/14
 ポルタメントの挙動を修正した

 ver 0.36 2015/09/24
 トーンエンベロープの修正
 波形変更時の音量設定の調整
 音量コマンド発行位置の調整

 ver 0.37 2015/09/25
 トーンエンベロープのデータで扱うことができる数値を0-255に修正
 トーンエンベロープが前回と同じ音色の際には波形を変更しないように修正
 マスターボリュームの変更コマンドMVの追加

 ver 0.38 2015/09/26
 qコマンドがスラー使用時に最後のノートのみに有効になるように挙動を修正。

 ver 0.39 2015/10/05
 ドキュメントの追加
 エンベロープ定義でx<num>を利用可能にした
 (10 x4で10を4回繰り返すのと同じになる)
 RI(リセット無視)、@pe(パンエンベロープ)コマンドを追加した
 @ME定義の追加

 ver 0.40 2015/10/05
 isomake関連の修正

 ver 0.41 2016/02/21
 5bit PCMを使用可能にした。
 (#USE_5BITPCMで有効に)

 ver 0.42 2016/02/23
 ポルタメントコマンド(pn<note> / p<num>)を追加した。
 
 ver 0.43 2016/07/09
 マルチトラック機能を追加した。

 ver 0.44 2017/04/29
 FMLFOの処理を修正した。

 ver 0.45 2017/04/29
 FMLFOのFSOF/FS/FFコマンドをトラックAでも使用可能にした。
 コンパイラのソースがマルチトラックに未対応であったのを修正した。

 ver 0.46 2017/05/03
 FMLFO用FR/FMコマンドを実装。

 ver 0.47 2017/05/13
 5ビットPCMの方法とファイルフォーマットを変更。(PD4は変わらず)。
 PCM再生開始時の処理の変更。

 ver 0.48 2017/05/18
 xpcm.exeでの終端の取扱いを変更した。

 ver 0.49 2020/09/03
 PCMのモード切り替え時の処理の修正
